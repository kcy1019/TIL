<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  
  
  <title>Google Code Jam 2019 Round 1C</title>
  <meta name="description" content="GCJ R1C는 안 망했다!! 다행히 Round 2에 진출 가능한 등수를 받았다. C 라지를 고민하다가 결국 스몰만 풀고 던진 다음 나머지를 급하게 풀어서 A, B는 라지까지 맞았다. 야호! 대회 난이도를 돌아보면, C는 그런디 정리1를 알면 쉽지만 모르면 풀 수 없는 문제였고, B는 올해 출제된, 즉 R1A나 R1B, 그리고 QR에 나온 인터랙티브 문제들에 비해 굉장히 쉬웠으며, A는 문제만 잘 해석하면 정말 아무렇게나 풀어도 라지까지 맞는 낚시 문제였다. 그런디 정리에 대한 짧은 요약, TopCoder 튜토리얼. &amp;#8617;">
  

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://a.cyclic.dev/day48/">
  
  
  <link rel="alternate" type="application/rss+xml" title="Splinters of Life" href="https://a.cyclic.dev/feed.xml">

  

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="kcy1019">
  <meta name="twitter:title" content="Google Code Jam 2019 Round 1C">
  <meta name="twitter:description" content="GCJ R1C는 안 망했다!! 다행히 Round 2에 진출 가능한 등수를 받았다. C 라지를 고민하다가 결국 스몰만 풀고 던진 다음 나머지를 급하게 풀어서 A, B는 라지까지 맞았다. 야호! 대회 난이도를 돌아보면, C는 그런디 정리1를 알면 쉽지만 모르면 풀 수 없는 문제였고, B는 올해 출제된, 즉 R1A나 R1B, 그리고 QR에 나온 인터랙티브 ...">
  
    <meta name="twitter:creator" content="kcy1019">
  
  

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css?family=Bitter:400,400i,700" rel="stylesheet">

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-47828880-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-47828880-3');
</script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      TeX: {
        equationNumbers: {
          autoNumber: "AMS"
        }
      },
      tex2jax: {
        inlineMath: [ ['$','$'] ],
        displayMath: [ ['$$','$$'] ],
        processEscapes: true,
      }
    });
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Splinters of Life</a>

    <nav class="site-nav">
      
        
        <a class="page-link" href="/archives/">Archives</a>
      
        
        <a class="page-link" href="https://lucent.me">About</a>
      
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    
      <h1 class="post-title" itemprop="name headline">Google Code Jam 2019 Round 1C</h1>
    
    <p class="post-meta"><time datetime="2019-05-05T10:15:30+00:00" itemprop="datePublished">May 5, 2019</time> •
  
    
    
      
    
      
        <a href="/categories/ps/">ps</a>
      
    
      
    
      
    
  



</p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p><a href="https://codingcompetitions.withgoogle.com/codejam/round/00000000000516b9">GCJ R1C</a>는 안 망했다!! 다행히 Round 2에 진출 가능한 등수를 받았다.
C 라지를 고민하다가 결국 스몰만 풀고 던진 다음 나머지를 급하게 풀어서 A, B는 라지까지 맞았다. 야호!
대회 난이도를 돌아보면, <a href="https://codingcompetitions.withgoogle.com/codejam/round/00000000000516b9/0000000000134cdf">C</a>는 그런디 정리<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>를 알면 쉽지만 모르면 풀 수 없는 문제였고,
<a href="https://codingcompetitions.withgoogle.com/codejam/round/00000000000516b9/0000000000134e91">B</a>는 올해 출제된, 즉 <a href="/day26">R1A</a>나 <a href="/day42">R1B</a>, 그리고 <a href="/day20">QR</a>에 나온 인터랙티브 문제들에 비해 굉장히 쉬웠으며,
<a href="https://codingcompetitions.withgoogle.com/codejam/round/00000000000516b9/0000000000134c90">A</a>는 문제만 잘 해석하면 정말 아무렇게나 풀어도 라지까지 맞는 낚시 문제였다.</p>

<ol id="markdown-toc">
  <li><a href="#robot-programming-strategy" id="markdown-toc-robot-programming-strategy">Robot Programming Strategy</a></li>
  <li><a href="#power-arrangers" id="markdown-toc-power-arrangers">Power Arrangers</a></li>
  <li><a href="#bacterial-tactics" id="markdown-toc-bacterial-tactics">Bacterial Tactics</a></li>
</ol>

<h2 id="robot-programming-strategy"><a href="https://codingcompetitions.withgoogle.com/codejam/round/00000000000516b9/0000000000134c90">Robot Programming Strategy</a></h2>

<p>가위바위보 로봇들이 토너먼트에 출전하고, 각각의 로봇이 자신의 프로그램(차례로 낼 수)를 공개해 두었을 때,
토너먼트의 대진표가 어떻든간에 항상 우승하는 가위바위보 프로그램을 작성하는 문제이다.</p>

<p>언뜻 보면 토너먼트 때문에 복잡해 보이지만,
대진표를 적절히 바꾸어 모든 경우를 만들 수 있기 때문에
결국 모든 상대를 이기는 프로그램을 만들어야 한다.</p>

<p>이러한 프로그램은 사실 단순하게 시뮬레이션을 통해 만들어도
각 단계에서 패배하지만 않으면 되는 특성 덕분에
이전 단계로 돌아가서 탐색을 다시 시작하는 back-tracking이 거의 일어나지 않아서 빠르게 수행된다.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1">#!/usr/bin/env python3
</span><span class="n">counters</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'R'</span><span class="p">:</span> <span class="s">'P'</span><span class="p">,</span>
    <span class="s">'P'</span><span class="p">:</span> <span class="s">'S'</span><span class="p">,</span>
    <span class="s">'S'</span><span class="p">:</span> <span class="s">'R'</span>
<span class="p">}</span>

<span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="n">ss</span><span class="p">,</span> <span class="n">win</span><span class="p">):</span>
    <span class="n">idx</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">cur</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">idx</span> <span class="o">&gt;=</span> <span class="mi">500</span><span class="p">:</span> <span class="k">return</span> <span class="s">''</span><span class="p">,</span> <span class="bp">False</span>

    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s">'R'</span><span class="p">,</span> <span class="s">'P'</span><span class="p">,</span> <span class="s">'S'</span><span class="p">]:</span>
        <span class="n">okay</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="n">nxtmoves</span><span class="p">,</span> <span class="n">nxtwins</span> <span class="o">=</span> <span class="n">cur</span> <span class="o">+</span> <span class="n">k</span><span class="p">,</span> <span class="n">win</span><span class="p">[:]</span>

        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ss</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">nxtwins</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span> <span class="k">continue</span>
            <span class="k">elif</span> <span class="n">s</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">==</span> <span class="n">counters</span><span class="p">[</span><span class="n">k</span><span class="p">]:</span> <span class="n">okay</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="k">elif</span> <span class="n">counters</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">idx</span><span class="p">]]</span> <span class="o">==</span> <span class="n">k</span><span class="p">:</span> <span class="n">nxtwins</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">okay</span><span class="p">:</span> <span class="k">continue</span>

        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ss</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">nxtwins</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span> <span class="k">continue</span>
            <span class="n">nxt</span><span class="p">,</span> <span class="n">npos</span> <span class="o">=</span> <span class="n">solve</span><span class="p">(</span><span class="n">cur</span> <span class="o">+</span> <span class="n">k</span><span class="p">,</span> <span class="n">ss</span><span class="p">,</span> <span class="n">nxtwins</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">npos</span><span class="p">:</span> <span class="n">okay</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="n">nxtmoves</span> <span class="o">=</span> <span class="n">nxt</span>
            <span class="k">break</span>

        <span class="k">if</span> <span class="n">okay</span><span class="p">:</span> <span class="k">return</span> <span class="n">nxtmoves</span><span class="p">,</span> <span class="bp">True</span>

    <span class="k">return</span> <span class="s">''</span><span class="p">,</span> <span class="bp">False</span>

<span class="n">T</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="k">for</span> <span class="n">C</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">T</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="n">ss</span> <span class="o">=</span> <span class="p">[</span><span class="nb">input</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
    <span class="n">zz</span> <span class="o">=</span> <span class="p">[(</span><span class="n">t</span> <span class="o">*</span> <span class="p">(</span><span class="mi">999</span> <span class="o">//</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)))[:</span><span class="mi">500</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">ss</span><span class="p">]</span>

    <span class="n">ans</span><span class="p">,</span> <span class="n">possible</span> <span class="o">=</span> <span class="n">solve</span><span class="p">(</span><span class="s">''</span><span class="p">,</span> <span class="n">zz</span><span class="p">,</span> <span class="p">[</span><span class="bp">False</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">zz</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Case #{}: {}"</span><span class="o">.</span><span class="nb">format</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">ans</span> <span class="k">if</span> <span class="n">possible</span> <span class="k">else</span> <span class="s">'IMPOSSIBLE'</span><span class="p">))</span></code></pre></figure>

<p>쉬운 문제를 어렵게 꼬아서 풀어보는 방법으로는 <a href="/day05">트라이</a>를 이용한 풀이가 있다.
사실 대회중에 이걸 디버깅 하다가 시간이 부족해서 스몰이라도 맞자! 하는 마음에 시뮬레이션을 냈고, 그렇게 라지를 맞았다(…)</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1">#!/usr/bin/env pypy
</span><span class="n">counters</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'R'</span><span class="p">:</span> <span class="s">'P'</span><span class="p">,</span>
    <span class="s">'P'</span><span class="p">:</span> <span class="s">'S'</span><span class="p">,</span>
    <span class="s">'S'</span><span class="p">:</span> <span class="s">'R'</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Trie</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">link</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="n">c</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="n">nc</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">nc</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">link</span><span class="p">:</span>
                <span class="n">c</span><span class="o">.</span><span class="n">link</span><span class="p">[</span><span class="n">nc</span><span class="p">]</span> <span class="o">=</span> <span class="n">Trie</span><span class="p">()</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">link</span><span class="p">[</span><span class="n">nc</span><span class="p">]</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">c</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">win</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">link</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span> <span class="k">return</span> <span class="s">''</span><span class="p">,</span> <span class="bp">False</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">link</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="nb">sum</span><span class="p">([</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">link</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">end</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">link</span><span class="o">.</span><span class="n">keys</span><span class="p">()])</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span> <span class="k">return</span> <span class="s">''</span><span class="p">,</span> <span class="bp">False</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">link</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="n">counters</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">link</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]],</span> <span class="bp">True</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">link</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="s">''</span><span class="p">,</span> <span class="bp">True</span>

        <span class="n">rets</span> <span class="o">=</span> <span class="p">{</span><span class="n">opt</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">link</span><span class="p">[</span><span class="n">opt</span><span class="p">]</span><span class="o">.</span><span class="n">win</span><span class="p">()</span> <span class="k">for</span> <span class="n">opt</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">link</span><span class="o">.</span><span class="n">keys</span><span class="p">()}</span>

        <span class="k">for</span> <span class="n">move</span> <span class="ow">in</span> <span class="p">[</span><span class="s">'R'</span><span class="p">,</span> <span class="s">'P'</span><span class="p">,</span> <span class="s">'S'</span><span class="p">]:</span>
            <span class="n">okay</span><span class="p">,</span> <span class="n">nxt</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="s">''</span>
            <span class="k">for</span> <span class="n">others</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">link</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">move</span> <span class="o">==</span> <span class="n">counters</span><span class="p">[</span><span class="n">others</span><span class="p">]:</span> <span class="k">continue</span>
                <span class="k">if</span> <span class="n">counters</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">==</span> <span class="n">others</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">rets</span><span class="p">[</span><span class="n">others</span><span class="p">][</span><span class="mi">1</span><span class="p">]:</span> <span class="n">okay</span> <span class="o">=</span> <span class="bp">False</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">okay</span><span class="p">:</span> <span class="k">break</span>
                <span class="n">nxt</span> <span class="o">=</span> <span class="n">rets</span><span class="p">[</span><span class="n">others</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">okay</span><span class="p">:</span> <span class="k">return</span> <span class="n">move</span> <span class="o">+</span> <span class="n">nxt</span><span class="p">,</span> <span class="bp">True</span>

        <span class="k">return</span> <span class="s">''</span><span class="p">,</span> <span class="bp">False</span>

<span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="n">ss</span><span class="p">):</span>
    <span class="n">trie</span> <span class="o">=</span> <span class="n">Trie</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">ss</span><span class="p">:</span> <span class="n">trie</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="n">ans</span><span class="p">,</span> <span class="n">possible</span> <span class="o">=</span> <span class="n">trie</span><span class="o">.</span><span class="n">win</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">ans</span><span class="p">[:</span><span class="mi">500</span><span class="p">]</span> <span class="k">if</span> <span class="n">possible</span> <span class="k">else</span> <span class="s">"IMPOSSIBLE"</span>

<span class="n">T</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">raw_input</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="k">for</span> <span class="n">C</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">T</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">raw_input</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="n">ss</span> <span class="o">=</span> <span class="p">[</span><span class="nb">raw_input</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
    <span class="n">zz</span> <span class="o">=</span> <span class="p">[(</span><span class="n">t</span> <span class="o">*</span> <span class="p">(</span><span class="mi">999</span> <span class="o">//</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)))[:</span><span class="mi">500</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">ss</span><span class="p">]</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Case #{}: {}"</span><span class="o">.</span><span class="nb">format</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">solve</span><span class="p">(</span><span class="n">zz</span><span class="p">)))</span></code></pre></figure>

<h2 id="power-arrangers"><a href="https://codingcompetitions.withgoogle.com/codejam/round/00000000000516b9/0000000000134e91">Power Arrangers</a></h2>

<p>A, B, C, D, E 의 다섯 개로 만들 수 있는 순열의 개수는 120개이다.
이 중에서 119개의 순열을 무작위 순서로 늘어놓았을 때,
빠진 하나의 순열을 최대 150개의 질문을 통해 알아내는 문제이다.
각 질문은 원하는 위치의 알파벳을 물어보는 것으로, 예를 들어
i번째 순열의 j번째 알파벳을 물어볼 경우 i * 5 + j를 물어보면 된다.</p>

<p>첫 번째 글자부터 순차적으로 결정해 나가면 해결할 수 있는 문제이다.
빠진 순열의 첫 글자는 119개의 순열에서 $4! - 1 = 23$번 등장한다는 사실을 이용하면
총 119번의 쿼리를 통해 첫 번째 알파벳을 알 수 있다.
같은 방법을 반복해서 두 번째 글자를 알아낼 때에는 $3! - 1 = 5$번 등장하는 알파벳을 찾으면 되는데,
여기에는 총 23번의 쿼리가 필요하다.
이런 식으로 마지막 글자까지 반복하면 총 119 + 23 + 5 + 1 = 148번의 쿼리를 통해 답을 찾을 수 있다.</p>

<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="cp">#include&lt;cstdio&gt;
#include&lt;set&gt;
#include&lt;vector&gt;
#include&lt;numeric&gt;
#define sz size()
#define pb emplace_back
#define ALL(X) (X).begin(),(X).end()
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">range</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">(</span><span class="n">n</span><span class="p">);</span> <span class="n">iota</span><span class="p">(</span><span class="n">ALL</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span> <span class="k">return</span> <span class="n">a</span><span class="p">;</span> <span class="p">}</span>

<span class="kt">void</span> <span class="n">solve</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&gt;</span> <span class="n">cand</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="mi">5</span><span class="p">));</span>
    <span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">until_now</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">target</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">23</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
    <span class="kt">char</span> <span class="n">ans</span><span class="p">[</span><span class="mi">10</span><span class="p">]{},</span> <span class="n">last</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">cand</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">range</span><span class="p">(</span><span class="mi">119</span><span class="p">);</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">:</span> <span class="n">cand</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">last</span><span class="p">])</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">5</span> <span class="o">+</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">fflush</span><span class="p">(</span><span class="n">stdout</span><span class="p">);</span>
            <span class="kt">char</span> <span class="n">x</span><span class="p">[</span><span class="mi">4</span><span class="p">]{};</span> <span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
            <span class="kt">int</span> <span class="n">al</span> <span class="o">=</span> <span class="kt">int</span><span class="p">(</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="sc">'A'</span><span class="p">);</span>
            <span class="n">cand</span><span class="p">[</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">al</span><span class="p">].</span><span class="n">pb</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">until_now</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">cand</span><span class="p">[</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">].</span><span class="n">sz</span> <span class="o">==</span> <span class="n">target</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="p">{</span>
                <span class="n">ans</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="kt">char</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="sc">'A'</span><span class="p">);</span>
                <span class="n">until_now</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
                <span class="n">last</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">puts</span><span class="p">(</span><span class="n">ans</span><span class="p">);</span> <span class="n">fflush</span><span class="p">(</span><span class="n">stdout</span><span class="p">);</span>
    <span class="kt">char</span> <span class="n">verdict</span><span class="p">[</span><span class="mi">4</span><span class="p">]{};</span> <span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span> <span class="n">verdict</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">verdict</span> <span class="o">==</span> <span class="sc">'N'</span><span class="p">)</span> <span class="n">exit</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">T</span><span class="p">;</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">"%d%*d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">T</span><span class="p">);</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">T</span><span class="o">--</span><span class="p">)</span> <span class="n">solve</span><span class="p">();</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<h2 id="bacterial-tactics"><a href="https://codingcompetitions.withgoogle.com/codejam/round/00000000000516b9/0000000000134cdf">Bacterial Tactics</a></h2>

<p>박테리아를 게임 판에 번갈아가며 하나씩 배치해서 자신의 차례에 더이상 둘 수 있는 수가 없는 사람이 패배하는 게임에 대한 문제이다.
게임에는 두 종류의 박테리아가 존재하는데, 놓으면 가로로 최대한 퍼지는 종과 놓으면 세로로 최대한 퍼지는 종이다.
단, 게임 판에는 방사성 물질이 존재하는 칸이 있는데, 박테리아가 해당하는 칸까지 퍼져나가면 바로 죽어버리고,
플레이어들은 이러한 일이 일어나도록 배치할 수 없다.
내가 첫 순서라고 생각했을 때, 첫 수를 어떻게 두어야 이길 수 있는지 그 경우의 수를 세어보자.</p>

<p>전형적인 알고리즘 게임 문제로,
매번 한 개의 박테리아를 배치할 때마다 게임 판이 둘로 나뉘어 부분 문제 2개의 답으로부터 전체 문제의 답을 구하는 형태를 갖는다.
이렇게 여러 게임의 승패로부터 전체 승패를 구하는 문제는 그런디 정리<sup id="fnref:1:1"><a href="#fn:1" class="footnote">1</a></sup>를 이용해서 해결할 수 있다.</p>

<p>각 상태의 그런디 수를 구하였을 때, 0이 나온다면 해당하는 상태로부터 승리하는 방법이 없다는 것이므로
모든 첫 수에 대해 그런디 수가 0이 되는 경우, 즉 상대가 패배하는 경우의 수를 세면 답을 구할 수 있다.</p>

<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="cp">#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;cstdint&gt;
#include&lt;vector&gt;
#include&lt;algorithm&gt;
#define ALL(X) (X).begin(),(X).end()
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">d</span><span class="p">[</span><span class="mi">18</span><span class="p">][</span><span class="mi">18</span><span class="p">][</span><span class="mi">18</span><span class="p">][</span><span class="mi">18</span><span class="p">],</span> <span class="n">f</span><span class="p">[</span><span class="mi">18</span><span class="p">][</span><span class="mi">18</span><span class="p">];</span>

<span class="kt">bool</span> <span class="nf">place_h</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">char</span> <span class="n">vacant</span><span class="p">,</span> <span class="kt">char</span> <span class="n">mark</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">le</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">ri</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">le</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">le</span><span class="p">]</span> <span class="o">==</span> <span class="n">vacant</span><span class="p">)</span> <span class="o">--</span><span class="n">le</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">le</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">le</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'#'</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">ri</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">ri</span><span class="p">]</span> <span class="o">==</span> <span class="n">vacant</span><span class="p">)</span> <span class="o">++</span><span class="n">ri</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">ri</span> <span class="o">&lt;</span> <span class="n">m</span>  <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">ri</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'#'</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">++</span><span class="n">le</span> <span class="o">&lt;</span> <span class="n">ri</span><span class="p">)</span> <span class="n">f</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">le</span><span class="p">]</span> <span class="o">=</span> <span class="n">mark</span><span class="p">;</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">place_v</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">char</span> <span class="n">vacant</span><span class="p">,</span> <span class="kt">char</span> <span class="n">mark</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">lo</span> <span class="o">=</span> <span class="n">y</span><span class="p">,</span> <span class="n">hi</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">lo</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">lo</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="n">vacant</span><span class="p">)</span> <span class="o">--</span><span class="n">lo</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">lo</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">lo</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'#'</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">hi</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">hi</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="n">vacant</span><span class="p">)</span> <span class="o">++</span><span class="n">hi</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">hi</span> <span class="o">&lt;</span> <span class="n">n</span>  <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">hi</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'#'</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">++</span><span class="n">lo</span> <span class="o">&lt;</span> <span class="n">hi</span><span class="p">)</span> <span class="n">f</span><span class="p">[</span><span class="n">lo</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">mark</span><span class="p">;</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">grundy</span><span class="p">(</span><span class="kt">int</span> <span class="n">lx</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ly</span><span class="p">,</span> <span class="kt">int</span> <span class="n">rx</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ry</span><span class="p">,</span> <span class="kt">int</span> <span class="n">mark</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">lx</span> <span class="o">&gt;=</span> <span class="n">rx</span> <span class="o">||</span> <span class="n">ly</span> <span class="o">&gt;=</span> <span class="n">ry</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="o">&amp;</span><span class="n">ret</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="n">lx</span><span class="p">][</span><span class="n">ly</span><span class="p">][</span><span class="n">rx</span><span class="p">][</span><span class="n">ry</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">~</span><span class="n">ret</span><span class="p">)</span> <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">mex</span><span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="n">n</span> <span class="o">*</span> <span class="n">m</span> <span class="o">*</span> <span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">ly</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ry</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">lx</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">rx</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">place_h</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="sc">'.'</span><span class="p">,</span> <span class="n">mark</span><span class="p">))</span> <span class="p">{</span>
                <span class="kt">int</span> <span class="n">g</span> <span class="o">=</span> <span class="n">grundy</span><span class="p">(</span><span class="n">lx</span><span class="p">,</span> <span class="n">ly</span><span class="p">,</span> <span class="n">rx</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">mark</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">^</span> <span class="n">grundy</span><span class="p">(</span><span class="n">lx</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">rx</span><span class="p">,</span> <span class="n">ry</span><span class="p">,</span> <span class="n">mark</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
                <span class="n">mex</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                <span class="n">place_h</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">mark</span><span class="p">,</span> <span class="sc">'.'</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">place_v</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="sc">'.'</span><span class="p">,</span> <span class="n">mark</span><span class="p">))</span> <span class="p">{</span>
                <span class="kt">int</span> <span class="n">g</span> <span class="o">=</span> <span class="n">grundy</span><span class="p">(</span><span class="n">lx</span><span class="p">,</span> <span class="n">ly</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">ry</span><span class="p">,</span> <span class="n">mark</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">^</span> <span class="n">grundy</span><span class="p">(</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">ly</span><span class="p">,</span> <span class="n">rx</span><span class="p">,</span> <span class="n">ry</span><span class="p">,</span> <span class="n">mark</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
                <span class="n">mex</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                <span class="n">place_v</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">mark</span><span class="p">,</span> <span class="sc">'.'</span><span class="p">);</span>
            <span class="p">}</span>

        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">ALL</span><span class="p">(</span><span class="n">mex</span><span class="p">),</span> <span class="nb">false</span><span class="p">)</span> <span class="o">-</span> <span class="n">mex</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">T</span><span class="p">,</span> <span class="n">C</span> <span class="o">=</span> <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">T</span><span class="p">);</span> <span class="n">C</span> <span class="o">&lt;=</span> <span class="n">T</span><span class="p">;</span> <span class="o">++</span><span class="n">C</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"Case #%d: "</span><span class="p">,</span> <span class="n">C</span><span class="p">);</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">"%d%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">m</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">22</span><span class="p">]{};</span>
            <span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span> <span class="n">buf</span><span class="p">);</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">buf</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
        <span class="p">}</span>

        <span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">memset</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="k">sizeof</span> <span class="n">d</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">place_h</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="sc">'.'</span><span class="p">,</span> <span class="mi">99</span><span class="p">))</span> <span class="p">{</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="n">m</span> <span class="o">*</span> <span class="o">!</span><span class="p">(</span><span class="n">grundy</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="o">^</span> <span class="n">grundy</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">));</span>
            <span class="n">place_h</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="sc">'.'</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">place_v</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="sc">'.'</span><span class="p">,</span> <span class="mi">99</span><span class="p">))</span> <span class="p">{</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="n">n</span> <span class="o">*</span> <span class="o">!</span><span class="p">(</span><span class="n">grundy</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="o">^</span> <span class="n">grundy</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">));</span>
            <span class="n">place_v</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="sc">'.'</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">ret</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>대회 중에는 테스트 셋 1을 해결하는 다이나믹 프로그래밍 코드를 이렇게 작성했다.
$2^{4\cdot 4}$개의 상태만 고려하면 되기 때문에 모든 경우를 무식하게 탐색하는 방법이다.
여기서도 매번 재귀 호출을 할 때마다 부호를 뒤집는데,
이는 상대가 패배하는 것(다음 함수 호출)이 내(현재 함수 호출)가 승리하는 것이기 때문이다.</p>

<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="cp">#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;cstdint&gt;
#include&lt;map&gt;
</span>
<span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int8_t</span><span class="o">&gt;</span> <span class="n">d</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">f</span><span class="p">[</span><span class="mi">16</span><span class="p">][</span><span class="mi">16</span><span class="p">];</span>

<span class="kt">bool</span> <span class="nf">go</span><span class="p">(</span><span class="kt">int</span> <span class="n">stat</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="n">stat</span><span class="p">))</span> <span class="k">return</span> <span class="kt">bool</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">stat</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
    <span class="kt">int8_t</span> <span class="o">&amp;</span><span class="n">ret</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="n">stat</span><span class="p">];</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'.'</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// horizontal</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">le</span> <span class="o">=</span> <span class="n">j</span><span class="p">,</span> <span class="n">ri</span> <span class="o">=</span> <span class="n">j</span><span class="p">,</span> <span class="n">nstat</span> <span class="o">=</span> <span class="n">stat</span><span class="p">;</span>
                <span class="k">while</span> <span class="p">(</span><span class="n">le</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">le</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'.'</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">nstat</span> <span class="o">|=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">m</span> <span class="o">+</span> <span class="n">le</span><span class="p">);</span>
                    <span class="o">--</span><span class="n">le</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="k">if</span> <span class="p">(</span><span class="n">le</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">le</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'@'</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">while</span> <span class="p">(</span><span class="n">ri</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">ri</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'.'</span><span class="p">)</span> <span class="p">{</span>
                        <span class="n">nstat</span> <span class="o">|=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">m</span> <span class="o">+</span> <span class="n">ri</span><span class="p">);</span>
                        <span class="o">++</span><span class="n">ri</span><span class="p">;</span>
                    <span class="p">}</span>

                    <span class="k">if</span> <span class="p">(</span><span class="n">ri</span> <span class="o">&gt;=</span> <span class="n">m</span> <span class="o">||</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">ri</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'@'</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">le</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">ri</span><span class="p">;</span> <span class="n">x</span><span class="o">++</span><span class="p">)</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'@'</span><span class="p">;</span>
                        <span class="kt">bool</span> <span class="n">verdict</span> <span class="o">=</span> <span class="n">go</span><span class="p">(</span><span class="n">nstat</span><span class="p">);</span>
                        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">le</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">ri</span><span class="p">;</span> <span class="n">x</span><span class="o">++</span><span class="p">)</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'.'</span><span class="p">;</span>
                        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">verdict</span><span class="p">)</span> <span class="p">{</span>
                            <span class="n">ret</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
                            <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="c1">// vertical</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">le</span> <span class="o">=</span> <span class="n">i</span><span class="p">,</span> <span class="n">ri</span> <span class="o">=</span> <span class="n">i</span><span class="p">,</span> <span class="n">nstat</span> <span class="o">=</span> <span class="n">stat</span><span class="p">;</span>
                <span class="k">while</span> <span class="p">(</span><span class="n">le</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">le</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'.'</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">nstat</span> <span class="o">|=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">j</span> <span class="o">+</span> <span class="n">le</span> <span class="o">*</span> <span class="n">m</span><span class="p">);</span>
                    <span class="o">--</span><span class="n">le</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="k">if</span> <span class="p">(</span><span class="n">le</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">f</span><span class="p">[</span><span class="n">le</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'@'</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">while</span> <span class="p">(</span><span class="n">ri</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">f</span><span class="p">[</span><span class="n">ri</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'.'</span><span class="p">)</span> <span class="p">{</span>
                        <span class="n">nstat</span> <span class="o">|=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">ri</span> <span class="o">*</span> <span class="n">m</span> <span class="o">+</span> <span class="n">j</span><span class="p">);</span>
                        <span class="o">++</span><span class="n">ri</span><span class="p">;</span>
                    <span class="p">}</span>

                    <span class="k">if</span> <span class="p">(</span><span class="n">ri</span> <span class="o">&gt;=</span> <span class="n">n</span> <span class="o">||</span> <span class="n">f</span><span class="p">[</span><span class="n">ri</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'@'</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">le</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">ri</span><span class="p">;</span> <span class="n">x</span><span class="o">++</span><span class="p">)</span> <span class="n">f</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'@'</span><span class="p">;</span>
                        <span class="kt">bool</span> <span class="n">verdict</span> <span class="o">=</span> <span class="n">go</span><span class="p">(</span><span class="n">nstat</span><span class="p">);</span>
                        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">le</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">ri</span><span class="p">;</span> <span class="n">x</span><span class="o">++</span><span class="p">)</span> <span class="n">f</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'.'</span><span class="p">;</span>
                        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">verdict</span><span class="p">)</span> <span class="p">{</span>
                            <span class="n">ret</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
                            <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">T</span><span class="p">,</span> <span class="n">C</span> <span class="o">=</span> <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">T</span><span class="p">);</span> <span class="n">C</span> <span class="o">&lt;=</span> <span class="n">T</span><span class="p">;</span> <span class="o">++</span><span class="n">C</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"Case #%d: "</span><span class="p">,</span> <span class="n">C</span><span class="p">);</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">"%d%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">m</span><span class="p">);</span>

        <span class="kt">uint8_t</span> <span class="n">rok</span><span class="p">[</span><span class="mi">16</span><span class="p">]{},</span> <span class="n">cok</span><span class="p">[</span><span class="mi">16</span><span class="p">]{};</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">cok</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
            <span class="n">rok</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">rok</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&amp;=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">'#'</span><span class="p">;</span>
                <span class="n">cok</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&amp;=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">'#'</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">d</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">rok</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">stat</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'@'</span><span class="p">;</span>
                <span class="n">stat</span> <span class="o">|=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">m</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="n">ret</span> <span class="o">+=</span> <span class="n">m</span> <span class="o">*</span> <span class="o">!</span><span class="n">go</span><span class="p">(</span><span class="n">stat</span><span class="p">);</span>

            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
                <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'.'</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">cok</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">stat</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'@'</span><span class="p">;</span>
                <span class="n">stat</span> <span class="o">|=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">*</span> <span class="n">m</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="n">ret</span> <span class="o">+=</span> <span class="n">n</span> <span class="o">*</span> <span class="o">!</span><span class="n">go</span><span class="p">(</span><span class="n">stat</span><span class="p">);</span>

            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
                <span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'.'</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">ret</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p><a href="https://en.wikipedia.org/wiki/Sprague%E2%80%93Grundy_theorem">그런디 정리</a>에 대한 <a href="https://blog.myungwoo.kr/82">짧은 요약</a>, <a href="https://www.topcoder.com/community/competitive-programming/tutorials/algorithm-games/">TopCoder 튜토리얼</a>. <a href="#fnref:1" class="reversefootnote">&#8617;</a> <a href="#fnref:1:1" class="reversefootnote">&#8617;<sup>2</sup></a></p>
    </li>
  </ol>
</div>

  </div>

  

</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <p>
      

&copy;  - Powered by <a href="https://jekyllrb.com">Jekyll</a> &amp; <a href="https://github.com/yous/whiteglass">whiteglass</a> - Subscribe via <a href="https://a.cyclic.dev/feed.xml">RSS</a>

    </p>

  </div>

</footer>


  </body>

</html>
